![](attachments/Pasted%20image%2020251104235529.png)
下面是 **Docker 在 CentOS 系统安装后** 的默认目录结构详解：

---

## 🧩 一、Docker 的主目录：

```
/var/lib/docker/
```

Docker 的所有核心数据（镜像、容器、卷、网络、构建缓存等）都保存在这里。

你可以把它看作 Docker 的「数据库」。

---

## 📂 二、目录结构详解

在 `/var/lib/docker/` 下通常包含以下子目录：

|目录|作用说明|
|---|---|
|**containers/**|存放每个容器的元数据、日志文件、配置文件（config.v2.json）等。每个容器一个子目录。|
|**image/**|存放镜像元数据、镜像与层之间的关系等。|
|**overlay2/**|存放镜像和容器的实际文件系统层（文件数据）。这是最占空间的目录。|
|**volumes/**|存放 Docker Volume 数据卷的内容。|
|**network/**|存放 Docker 自定义网络的配置。|
|**buildkit/**|存放镜像构建缓存和构建上下文。|
|**plugins/**|存放 Docker 插件（如存储或网络插件）。|
|**runtimes/**|存放容器运行时（如 `runc`）信息。|
|**tmp/**|Docker 临时文件（如镜像导入导出时的临时缓存）。|
|**trust/**|Docker 内容信任（Docker Content Trust）的配置。|

---

### 🧱 举例：容器和镜像的存放路径示意

假设你运行了一个名为 `mysql80` 的容器：

```
/var/lib/docker/
├── containers/
│   ├── <container_id>/
│   │   ├── config.v2.json        # 容器的详细配置
│   │   ├── hostconfig.json       # 运行时参数（端口、卷映射等）
│   │   ├── mounts/               # 卷挂载信息
│   │   └── <container_id>-json.log   # 容器标准输出日志
│
├── overlay2/
│   ├── <layer_id>/               # 存放镜像和容器文件系统层
│   │   └── diff/                 # 实际的文件数据
│
├── volumes/
│   ├── <volume_id>/_data/        # 数据卷实际数据
│
└── image/
    └── overlay2/
        └── repositories.json     # 镜像元数据
```

---

## 🗂️ 三、Docker 相关配置文件路径

|文件路径|说明|
|---|---|
|`/etc/docker/daemon.json`|Docker 守护进程配置文件（比如镜像加速、存储驱动）。|
|`/usr/bin/docker`|Docker CLI 命令程序。|
|`/usr/lib/systemd/system/docker.service`|systemd 启动服务配置文件。|

---

|类型|默认路径|说明|
|---|---|---|
|Docker 主目录|`/var/lib/docker`|所有核心数据所在|
|镜像层数据|`/var/lib/docker/overlay2`|存放镜像文件系统|
|容器配置与日志|`/var/lib/docker/containers`|每个容器一个子目录|
|卷数据|`/var/lib/docker/volumes`|数据持久化存放处|
|配置文件|`/etc/docker/daemon.json`|Docker 配置入口|
